<!--
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
-->
<md-dialog style="width:55%;">
	<md-toolbar style="background-color: white; min-height:25px;">
		<div class="md-toolbar-tools" style="height:44px">
			<h2>Añadir nuevo dispositivo</h2>
			<md-button class="md-icon-button" ng-click="$ctrl.cancel()" style="right:20px; position:absolute">
	            <md-icon aria-label="Close dialog">clear</md-icon>
	        </md-button>
        </div>
	</md-toolbar>
	<md-dialog-content>
		<form name="$ctrl.formModalModelo" id="formModalModelo" flex class="formClass md-padding">
			<div layout="row" layout-align="center center" class="margin-top-20">
				<md-input-container class="md-block hide-validation-error" flex-gt-sm="30">
                    <label>Grupo</label>
                    <md-select ng-model="$ctrl.form.group" ng-change="$ctrl.changeGroup()" required>
						 <md-option ng-repeat="grupo in $ctrl.listGrupos" ng-value="grupo">{{grupo.description}}</md-option>
		         	</md-select>
                </md-input-container>
				<md-input-container class="md-block hide-validation-error" flex-gt-sm="30">
                    <label>Subgrupo</label>
                    <md-select ng-model="$ctrl.form.subgroup" ng-disabled="$ctrl.form.group == null || $ctrl.form.group.types.length == 0" required>
						 <md-option ng-repeat="subgrupo in $ctrl.form.group.types" ng-value="subgrupo.id">{{subgrupo.description}}</md-option>
		         	</md-select>
                </md-input-container>
				<md-input-container ng-if="$ctrl.form.group.band == true" class="md-block hide-validation-error" flex-gt-sm="20">
                    <label>Banda</label>
                    <md-select ng-model="$ctrl.form.band" required>
						 <md-option ng-value="1">Banda 1</md-option>
						 <md-option ng-value="2">Banda 2</md-option>
						 <md-option ng-value="3">Banda 3</md-option>
						 <md-option ng-value="4">Banda 4</md-option>
						 <md-option ng-value="5">Banda 5</md-option>
						 <md-option ng-value="6">Banda 6</md-option>
		         	</md-select>
                </md-input-container>
			</div>
			<div layout="row" layout-align="center center" class="margin-top-20">
				<md-autocomplete name="Brand" flex md-no-cache="$ctrl.noCache"
					md-selected-item="$ctrl.selBrand" md-search-text="$ctrl.searchBrand"
					md-items="brand in $ctrl.querySearch($ctrl.searchBrand, $ctrl.lstBrands, 'brandName')"
					md-item-text="brand.brandName" md-min-length="0" md-require-match class="hide-validation-error"
					md-floating-label="Marca">
					<md-item-template>
						<span md-highlight-text="$ctrl.searchBrand"
							md-highlight-flags="^i">{{brand.brandName}}</span>
					</md-item-template>
					<md-not-found>
						No existe la marca "{{$ctrl.searchBrand}}".
					</md-not-found>
				</md-autocomplete>
				<md-input-container class="md-block hide-validation-error" flex>
                    <label>Modelo completo</label>
                    <input ng-model="$ctrl.form.modelName" required>
				</md-input-container>
				<md-input-container class="hide-validation-error md-block" flex-gt-sm="20">
                    <label>PRECOM RENT-FUSION</label>
                    <input ng-model="$ctrl.form.codRENT">
				</md-input-container>
				<md-input-container class="hide-validation-error md-block" flex-gt-sm="20">
                    <label>PRECOM LIBRE</label>
                    <input ng-model="$ctrl.form.codPrecom" required>
				</md-input-container>
			</div>
			
			<div layout="row" class="margin-top-20" layout-align="center center" ng-if="$ctrl.loadModel != true">
				<md-button class="md-raised md-primary medium-blue button-action-main" ng-click="$ctrl.saveModel()"><i class="fa-light fa-floppy-disk" style="margin-right: 5px;"></i> AÑADIR DISPOSITIVO</md-button>
			</div>
			<div class="cs-loader" ng-if="$ctrl.loadModel == true" style="height: auto; width: 97%; position: relative; height: 40px;">
				<div class="cs-loader-inner">
					<label>●</label>
					<label>●</label>
					<label>●</label>
					<label>●</label>
					<label>●</label>
					<label>●</label>
				</div>
			</div>
	</md-dialog-content>
</md-dialog>