<!--
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
-->
<legend><span class="mov-ico ic-ciber-ico-respuesta-inmediata"></span> Cambio de datos del asegurado
   <button id="btnDesplegarPoliza" type="submit" class="btn btn-link" ng-click="$ctrl.isCollapsed2 = !$ctrl.isCollapsed2">
       <span ng-if="$ctrl.isCollapsed2" class="glyphicon glyphicon-chevron-down btnMostrar" title="Mostrar Datos de la Póliza"></span>
       <span ng-if="!$ctrl.isCollapsed2" class="glyphicon glyphicon-chevron-up btnOcultar" title="Ocultar Datos de la Póliza"></span>
   </button>
</legend>
<div id="divPoliza" uib-collapse="$ctrl.isCollapsed2">
	<div class="separadorDesplegables"></div>
	<div layout="row" style="margin-bottom:20px">
		<md-input-container flex-gt-sm>
			<label>Asegurado actual</label>
			<md-select ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_SELECCIONADO">
				<md-option ng-click="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO = asegurado" ng-repeat="asegurado in $ctrl.form.OPOLIZA.LST_ASEGURADOS | filter:{ID_TIPO_CLIENTE:2}" ng-value="asegurado">{{asegurado.NO_NOMBRE_COMPLETO}}</md-option>
			</md-select>
		</md-input-container>
	</div>
	<div layout="row" ng-if="tipoPropietario != 2">
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'NAME' | translate }}</label>
			<input ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.NO_NOMBRE" required>
		</md-input-container>
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'SURNAME' | translate }}</label>
			<input ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.NO_APELLIDO1" required>
		</md-input-container>
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'SURNAME_2' | translate }}</label>
			<input ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.NO_APELLIDO2">
		</md-input-container>
	</div>
	<div layout="row" ng-if="tipoPropietario != 2">
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'DOCUMENT_TYPE' | translate }}</label>
			<md-select ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.ID_TIPO_DOCUMENTO" required>
				<md-option ng-repeat="tipo in $ctrl.tipos.tiposDocumento" ng-value="tipo.ID_TIPO_DOCUMENTO">{{tipo.DS_TIPO_DOCUMENTO}}</md-option>
			</md-select>
		</md-input-container>
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'DOCUMENT_NUMBER' | translate }}</label>
			<input ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.NU_DOCUMENTO" required>
		</md-input-container>
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'BIRTH_DATE' | translate }}</label>

			<md-datepicker ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.FD_NACIMIENTO"
				ng-click="$ctrl.calcEdad($ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.FD_NACIMIENTO)"></md-datepicker>
		</md-input-container>
		<md-input-container class="md-block" flex-gt-sm>
			<label>{{ 'GENDER' | translate }}</label>
			<md-select ng-model="$ctrl.form[$ctrl.tipoSolicitud].XML_MOD_ASEGURADO.XML_ASEGURADO_ACTUALIZADO.ID_SEXO">
				<md-option ng-value="1">{{ 'MALE' | translate }}</md-option>
				<md-option ng-value="2">{{ 'FEMALE' | translate }}</md-option>
			</md-select>
		</md-input-container>
	</div>
</div>